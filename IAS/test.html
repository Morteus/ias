<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firestore Debug</title>
</head>

<body>
    <h1>Firestore Debug</h1>
    <button id="fetch-data-btn">Fetch Data</button>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-firestore.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyD1mo1I8KEXOWrrbad_ITE0z-wM5fIueDY",
            authDomain: "iasdb-b56c8.firebaseapp.com",
            projectId: "iasdb-b56c8",
            storageBucket: "iasdb-b56c8.firebasestorage.app",
            messagingSenderId: "1035364535383",
            appId: "1:1035364535383:web:504911504c73d52fe86712",
            measurementId: "G-WY6WMMN571",
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Function to fetch data from Firestore
        async function fetchDataFromFirestore() {
            try {
                console.log("Fetching data from Firestore...");
                const querySnapshot = await getDocs(collection(db, "Accounts")); // Replace "Accounts" with your actual collection name
                const data = [];
                querySnapshot.forEach((doc) => {
                    console.log(`Document ID: ${doc.id}`, doc.data());
                    data.push({ id: doc.id, ...doc.data() });
                });
                console.log("Fetched data array:", data);
            } catch (error) {
                console.error("Error fetching data from Firestore:", error);
            }
        }

        // Bind button click to fetch data
        document.getElementById("fetch-data-btn").addEventListener("click", fetchDataFromFirestore);
    </script>
</body>

</html>